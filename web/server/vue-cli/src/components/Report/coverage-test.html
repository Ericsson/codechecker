<!DOCTYPE html>
<html>
<head>
  <title>Coverage Visualization Test</title>
  <script src="https://unpkg.com/vue@2.6.14/dist/vue.js"></script>
  <script src="https://unpkg.com/vuetify@2.6.10/dist/vuetify.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
  <link href="https://unpkg.com/vuetify@2.6.10/dist/vuetify.min.css" rel="stylesheet">
  <style>
    .coverage-container {
      padding: 16px;
      background-color: #f5f5f5;
      border-radius: 4px;
      margin-bottom: 16px;
    }
    .coverage-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .coverage-title {
      font-weight: bold;
      font-size: 16px;
    }
    .coverage-stats {
      display: flex;
      gap: 16px;
    }
    .coverage-stat {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .stat-value {
      font-size: 18px;
      font-weight: bold;
    }
    .stat-label {
      font-size: 12px;
      color: #666;
    }
    .coverage-bar {
      height: 8px;
      background-color: #e0e0e0;
      border-radius: 4px;
      overflow: hidden;
      margin-top: 8px;
    }
    .coverage-progress {
      height: 100%;
      background-color: #4caf50;
      transition: width 0.3s ease;
    }
    .code-container {
      margin-top: 20px;
      border: 1px solid #ddd;
      border-radius: 4px;
      overflow: hidden;
    }
    .code-header {
      background-color: #f5f5f5;
      padding: 8px 16px;
      border-bottom: 1px solid #ddd;
      font-family: monospace;
    }
    .code-content {
      padding: 16px;
      font-family: monospace;
      white-space: pre;
      line-height: 1.5;
    }
    .line {
      display: flex;
      padding: 2px 0;
    }
    .line-number {
      width: 40px;
      color: #666;
      text-align: right;
      padding-right: 16px;
    }
    .line-content {
      flex: 1;
    }
    .covered {
      background-color: rgba(76, 175, 80, 0.1);
    }
    .uncovered {
      background-color: rgba(244, 67, 54, 0.1);
    }
    .partial {
      background-color: rgba(255, 152, 0, 0.1);
    }
  </style>
</head>
<body>
  <div id="app">
    <v-app>
      <v-container>
        <v-row justify="center">
          <v-col cols="12" md="8">
            <div class="coverage-container">
              <div class="coverage-header">
                <div class="coverage-title">
                  Test Coverage
                </div>
                <button @click="toggleCoverage">
                  Hide
                </button>
              </div>
              <div class="coverage-stats">
                <div class="coverage-stat">
                  <span class="stat-value">{{ coverageData.totalLines }}</span>
                  <span class="stat-label">Total Lines</span>
                </div>
                <div class="coverage-stat">
                  <span class="stat-value">{{ coverageData.coveredLines }}</span>
                  <span class="stat-label">Covered Lines</span>
                </div>
                <div class="coverage-stat">
                  <span class="stat-value">{{ coveragePercentage }}%</span>
                  <span class="stat-label">Coverage</span>
                </div>
              </div>
              <div class="coverage-bar">
                <div 
                  class="coverage-progress" 
                  :style="{ width: coveragePercentage + '%' }"
                ></div>
              </div>
            </div>

            <div class="code-container">
              <div class="code-header">
                test.cpp
              </div>
              <div class="code-content">
                <div v-for="(line, index) in codeLines" 
                     :key="index"
                     class="line"
                     :class="getLineClass(index + 1)">
                  <span class="line-number">{{ index + 1 }}</span>
                  <span class="line-content">{{ line }}</span>
                </div>
              </div>
            </div>
          </v-col>
        </v-row>
      </v-container>
    </v-app>
  </div>

  <script>
    new Vue({
      el: '#app',
      vuetify: new Vuetify(),
      data: {
        coverageData: {
          totalLines: 100,
          coveredLines: 75,
          lineCoverage: {
            1: 1,   // covered
            2: 1,   // covered
            3: 0,   // uncovered
            4: 1,   // covered
            5: 0.5, // partially covered
            6: 1,   // covered
            7: 0,   // uncovered
            8: 1,   // covered
            9: 0,   // uncovered
            10: 1   // covered
          }
        },
        codeLines: [
          "#include <iostream>",
          "",
          "int main() {",
          "    int x = 5;      // Line 1 - covered",
          "    int y = 10;     // Line 2 - covered",
          "    ",
          "    if (x > 0) {    // Line 3 - uncovered",
          "        x++;        // Line 4 - covered",
          "    }",
          "    ",
          "    y = x * 2;      // Line 5 - partially covered",
          "    ",
          "    std::cout << \"x: \" << x << std::endl;  // Line 6 - covered",
          "    ",
          "    if (y < 0) {    // Line 7 - uncovered",
          "        y = 0;      // Line 8 - covered",
          "    }",
          "    ",
          "    return 0;       // Line 9 - uncovered",
          "}                   // Line 10 - covered"
        ]
      },
      computed: {
        coveragePercentage() {
          if (this.coverageData.totalLines === 0) {
            return 0;
          }
          return Math.round(
            (this.coverageData.coveredLines / this.coverageData.totalLines) * 100
          );
        }
      },
      methods: {
        toggleCoverage() {
          console.log("Coverage visibility toggled");
        },
        getLineClass(lineNumber) {
          const coverage = this.coverageData.lineCoverage[lineNumber];
          if (coverage === 1) return "covered";
          if (coverage === 0) return "uncovered";
          if (coverage === 0.5) return "partial";
          return "";
        }
      }
    });
  </script>
</body>
</html> 